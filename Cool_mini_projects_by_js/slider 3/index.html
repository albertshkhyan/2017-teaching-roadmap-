<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#div{
			width: 700px;
			height: 400px;
			border: 2px solid;
			margin: 100px auto;
		}
		#div div{
			width: 50px;
			height: 50px;
			float: left;
			overflow: hidden;
			transition: 0.8s;

			/*relative - որ նկարները իրար վրա չհելնեն*/
			position: relative;
			outline: 1px solid red;
			/* left: 0px; */
			/* top: 0px; */
		}
		#div img{
			width: 700px;
			height: 400px;
			position: relative;
		}
	</style>
</head>
<body>

	<div id="div">
	</div>
	<button onclick="next()">next</button>


	<script>
		var arr = ["img1.jpg","img2.jpg","img3.jpg","img4.jpg"];
		var mec = document.querySelector("#div");

		(function skizb(){
			for(var i = 0; i < 8; ++i){
				for(var j = 0; j < 14; ++j){
					var div = document.createElement("div") 
					mec.appendChild(div);
					var img = document.createElement("img");
					div.appendChild(img);
					img.src = arr[0];
					img.style.top = -i * 50 + "px";
					img.style.left = -j * 50 + "px";
				}
			}
		})()

		var div = document.querySelectorAll("#div div");
		var img = document.querySelectorAll("#div img");
		function next(){
			pox();
			for(let i = 0; i < div.length; ++i){
				div[i].style.transition = "1.5s";
				div[i].style.top = Math.round(Math.random()*300-100)+"px";// 500-200 ???
				div[i].style.left = Math.round(Math.random()*600-300)+"px";// 800-400 ???
				div[i].style.transform = (i%2==0)?"rotate(360deg)":"rotate(-360deg)";
				// div[i].style.transform = "rotate(360deg)";
				// div[i].style.borderRadius = "0%";

				setTimeout(function(){
					img[i].src = arr[0];
					div[i].style.top = "0px";
					div[i].style.left = "0px";
					div[i].style.transform = "rotate(0deg)";
					div[i].style.borderRadius = "0%";
				},2000) 
			}
		}

		function pox(){
			var k = arr.shift();
			arr.push(k);
		}

	</script>
	
</body>
</html>