<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>explain async and await</title>
</head>

<body>
    <script>
        //



        //  console.log( (async function(){})() );//Promise¬†{<resolved>: undefined}
        /*
        * 

        ‚ö´ async function -’∂’•÷Ä’® ’∂’°’≠’°’ø’•’Ω’æ’°’Æ ’•’∂ ’°’Ω’´’∂’≠÷Ä’∏’∂ ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä ’Ω’ø’•’≤’Æ’•’¨’∏÷Ç ’∞’°’¥’°÷Ä÷â
                async await -’® ’∏’∂÷Å’∏÷Ä genrator ÷á promise -’® ’´÷Ä’°÷Ä ’Ø’∫÷Å÷Ä’°’Æ÷â
                 async/await –ø–æ–¥–æ–±–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ promises (MDN)


        await - ’® ’§’°’§’°÷Ä’•÷Å’∂’∏÷Ç’¥ ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’µ’´ ’Ø’°’ø÷Ä’∏÷Ç’¥’® generator-’∂’•÷Ä’´ yield-’´ ’∂’¥’°’∂÷â
            ‚ö† await ’¢’°’∂’°’¨’´ ’¢’°’º’® ’∞’°’Ω’°’∂’•’¨’´ ’ß ’¥’´’°’µ’∂ ’°’Ω’´’∂’≠÷Ä’∏’∂ ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’µ’´ ’¥’•’ª÷â ‘µ’©’• ’¥’•’ª’® ’π’´ ’Ø’ø’° SyntaxError:

        
        
        ++++++++++++sync await with arrow function ‚úî ++++++++++++
        let p = async  () => {}
        p.__proto__
        AsyncFunction¬†{constructor: ∆í, Symbol(Symbol.toStringTag): "AsyncFunction"}
        ++++++++++++++++++++++++++++++++++++++++++++++++
’∫

        --------------------------

         ‚ö† async functions - ’∂’∏÷Ä’® ’Ω’ø’•’≤’Æ’æ’∏÷Ç’¥ ’•’∂ AsyncFunction constructor -’´ ’¥’´’ª’∏÷Å’∏’æ÷â
        
        cookBurger.__proto__ -> AsyncFunction¬†{constructor: ∆í, Symbol(Symbol.toStringTag): "AsyncFunction"}
            ’ï÷Ä’´’∂’°’Ø’ù
                async function foo(){}
                console.log(foo.__proto__);
                    Output
                        AsyncFunction¬†{constructor: ∆í, Symbol(Symbol.toStringTag): "AsyncFunction"}
        
        */



        /*------async await -’® ’π’∏÷Ç’∂’´ pending ’æ’´’≥’°’Ø ‚ùå ->async ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂ ’∏÷Ç’∂’´ pendinf ’æ’´’≥’°’Ø, ÷Ö÷Ä’´’∂’°’Ø’ù------*/
        ////// ‚ö† promise-’´ status-’® pending ’π’´ ’¨’´’∂’∏÷Ç’¥

        ///// async await -’® ’π’∏÷Ç’∂’´ pending ’æ’´’≥’°’Ø ‚ùå ->async ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂ ’∏÷Ç’∂’´ pendinf ’æ’´’≥’°’Ø, ÷Ö÷Ä’´’∂’°’Ø’ù
        // let haveMoneyOrNot = Math.round(Math.random());
        // async function payPhoneOrNot() {
        //     await function() {
        //         let getPhone = {brand:Iphone, model:11, color:'black'}
        //             return getPhone;

        //     }

        // }
        // // console.log(' payPhoneOrNot()',  payPhoneOrNot());//Promise¬†{<resolved>: undefined}

        // let promise = payPhoneOrNot();
        // console.log('promise', promise);


        /*-----------------------------------------*/



        /*----------------- how put value [[PromiseValue]] : undefined ---------------------*/

        // let haveMoneyOrNot = Math.round(Math.random());
        // async function payPhoneOrNot() {
        //     let  a = await 1234;
        //     return a;//return-’´ ’§’•’∫÷Ñ’∏÷Ç’¥ ’∂’∏÷Ä [[PromiseValue]]  : '1234'


        // }

        // let promise = payPhoneOrNot();
        // console.log('promise', promise);

        // promise.then(function(resolved) {
        //     console.log('resolved', resolved);
        // });



        /*+++++++++++++++++++++++++++++++++++++++++*/







        // function dashBurger() {
        //     return new Promise(function (resolve, reject) {
        //         setTimeout(() => {
        //             resolve('’Å’•÷Ä ’¢’∏÷Ç÷Ä’£’•÷Ä’® ’∫’°’§÷Ä’°’Ω’ø ’ß÷â üçî');
        //         }, 1000);
        //     });
        // }

        // ////then-’´ ÷É’∏’≠’°÷Ä’•’∂ ’£÷Ä’∏÷Ç’¥ ’•’∂÷Ñ await 
        // async function cookBurger() {
        //     let ready = await dashBurger();//ready === '’Å’•÷Ä ’¢’∏÷Ç÷Ä’£’•÷Ä’® ’∫’°’§÷Ä’°’Ω’ø ’ß÷â üçî'
        //     return ready;
        // }
        // // console.log(cookBurger());

        // cookBurger().then((resolved) => {
        //     console.log(cookBurger());
        //     console.log('resolved - ', resolved);
        // });



        // console.log((async function foo(){})());//Promise¬†{<resolved>: undefined}

        /* +++++++++++++++ with await and without await +++++++++++++++*/

        // function foo(num) {
        //     return num;
        // }
        // async function baz() {
        //     let a =  foo(10);
        //     return a;
        // }
        // console.log(baz());//Promise¬†{<pending> : 10}    identy result



        ////‚ö† await ’£÷Ä’•’¨’∏÷Ç÷Å ÷Å’∏÷Ç’µ÷Å ’ø’°’¨’´’Ω pending 
        // function foo(num) {
        //     return num;
        // }
        // async function baz() {
        //     let a = await foo(10);
        //     return a;
        // }
        // console.log(baz());//Promise¬†{<pending> : 10}    identy result

        /*++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/




        ////’´’∂’π’∫’•’Ω ’æ’•’Ø’°’¨’•’¨ burger-’®÷â




        // console.log(cookBurger());//Promise¬†{<pending>}



























        /*+++++++++++++++++++++ NOTE  Emulation of server request  +++++++++++++++++++++*/
        ////üî∞ ‘±’µ’Ω ÷Ö÷Ä’´’∂’°’Ø’® ’£÷Ä’•’¨ async await-’∏’æ

        //‚ö† ’•÷Ä’¢ ’∏÷Ä return ’•’∂÷Ñ ’°’∂’∏÷Ç’¥ ’´’∂÷Ñ’® ’¥’´’∂’π÷á ’¥’•÷Ä promise-’® ’π’°’∂’´, ’∞’°’ª’∏÷Ä’§ promise-’´’∂ ’π’´ ’°’∂÷Å’∂’´÷â 




        // let requsetPromise = new Promise(function (resolve, reject) {
        //     setTimeout(() => {
        //         console.log('1 - Client : ’Ä’°÷Ä÷Å’∂’∏÷Ç’¥ ’•’¥ ’Ω’•’º’æ’•÷Ä’´÷Å user-’∂’•÷Ä’´ ÷Å’°’∂’Ø’®?');
        //         console.log('...');
        //         resolve();
        //     })

        // });


        // requsetPromise.then(function () {////‘±’¥’•’∂’° ’°÷Ä’ø’°÷Ñ’´’∂ then-’´ ’¥’•’ª’´ promise-’® ’∫’°÷Ä’ø’°’§’´÷Ä ’π’´ return ’°’∂’•’¨, ÷É’∏÷É’∏’≠’°’Ø’°’∂’∏’æ ’ß’¨ ’∞’•÷Ä’©’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’® ’≥’´’∑’ø ’Ø’Ø’°’ø’°÷Ä’æ’´÷â 
        //     let requsetPromise = new Promise(function (resolve, reject) {
        //         setTimeout(() => {
        //             console.log('2 - Server : ’Ä’°÷Ä÷Å’∂’∏÷Ç’¥ ’•’¥ -’´’∂ user-’∂’•÷Ä’´ ÷Å’°’∂’Ø’®?');
        //             console.log('...');
        //             resolve();
        //         }, 2000)

        //     })
        ////’°’µ ’®’Ω’ø’•’≤’´÷Å ’∞’•÷Ä’©’°’Ø’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’® ’≠’°’≠’ø’æ’∏÷Ç’¥’°??
        ////’ä’°’ø’ù‚Ä§ ’∏÷Ä’∏’æ’∞’•’ø÷á ’¥’•’∂÷Ñ ’®’Ω’ø’•’≤’´÷Å ’•’∂÷Ñ ’Ω’Ø’Ω’∏÷Ç’¥ return ’°’∂’•’¨
        //         .then(function () {
        //             return new Promise(function (resolve, reject) {
        //                 setTimeout(() => {
        //                     console.log('3 -  : ’ç’ø’°’∂’∏÷Ç’¥ ’•’¥ user-’∂’•÷Ä’´ ÷Å’°’∂’Ø’®, ’∏÷Ä ’ø’°’¥ ’Ω’•’º’æ’•÷Ä’´’∂÷â');
        //                     console.log('...');
        //                     resolve();
        //                 }, 1000)

        //             })
        //         })

        //         .then(function () {
        //             return new Promise(function (resolve, reject) {
        //                 setTimeout(() => {
        //                     console.log('4 - Server : ’±÷á’°÷É’∏’≠’•’¥ user-’∂’•÷Ä’´ ÷Å’°’∂’Ø’®, ’∏÷Ä ’ø’°’¥ client-’´’∂÷â');
        //                     console.log('...');
        //                     resolve();
        //                 })

        //             }, 5000)
        //         })

        //         ////’é’•÷Ä’ª’´’∂ then-’® ’∫’•’ø÷Ñ ’π’´ new Promise ’°’∂’´ ’∏÷Ä’æ’∞’•’ø÷á ’•’¨ ’°’Ω’´’∂’≠÷Ä’∏’∂ ’Ø’∏’§ ’π’Ø’° ’°’∂’•’¨’∏÷Ç
        //         .then(function () {
        //             setTimeout(() => {
        //                 console.log('5 - Client : ’ç’ø’°÷Å’° user-’∂’•÷Ä’´ ÷Å’°’∂’Ø’®÷â üëç');
        //                 // resolve();

        //             })
        //         })
        // })

        //1,2,4,3 - with variables
        //1,2,3,4 - with return


        /**********************************************************************/




    </script>
</body>

</html>