<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>iterable</title>
</head>

<body>
    <script>

        //



        // let object = {
        //     male: 'John',
        //     female: 'Gina',
        //     rel: 'Love'
        // };

        // for (let p of object) {
        //     console.log(`Property ${p}`);//Uncaught TypeError: object is not iterable
        // };


        /*++++++++++++++++How to fix this problem++++++++++++++++*/


        ///// FIXME  -  ‘±’º’°’∂÷Å Map ’Ø’∏’¨’•’Ø’°÷Å’´’°’µ’´ ’´’∂’π’∫’•’Ω ’°’∂÷Å’∂’•’¨ ’¶’°’∂’£’æ’°’Æ’´ ’°’ø’°÷Ä÷Ä’•÷Ä’´ ’æ’°÷Ä’µ’∏’æ÷â

//// 1. for...of ’°’∑’≠’°’ø’∏÷Ç’¥’° ’¥’•÷Ä ÷Ö’¢’µ’•’Ø’ø’´ ’∞’•’ø ’∏÷Ç÷Ä’¥’•’∂ ’´’ø’°÷Ä’°÷Å’´’°’µ’´ ’•’∂’©’°’Ø’° ’ß÷â üëç‚úî
        // let users = {
        //     user1: 'John',
        //     user2: 'Natali',
        //     user3: 'Donald',
        //     // ku: function () {//‚ùå for... of not working
        //     [Symbol.iterator] : function () {//üëç for..of working
        //         // get the properties of the users 
        //         let properties = Object.keys(this);//this === users
        //         // console.log('properties', properties);//['user1', 'user2', 'user3']
        //         let count = 0;//’∞’°’∑’æ’∏÷Ç’¥’° user-’´ ’∂’•÷Ä’´ ÷Ñ’°’∂’°’Ø’®, ’•’©’• ’°’æ’•’¨ ’∞’°’∑’æ’´ isDone-’® ’Ø’§’°’º’∂’° true
        //         isDone = false;

        //         let next = () => {
        //             // ’æ’•÷Ä’ª’´’∂ property-’´’∂ ’Ø’°’º’°’æ’°÷Ä’•’¨’∏÷Ç ’∞’°’¥’°÷Ä
        //             if (count >= properties.length) {
        //                 isDone = true;
        //             }
        //             ////next ’¥’•’©’∏’§’® ’æ’•÷Ä’°’§’°÷Ä’±’∂’∏÷Ç’¥’° ÷Ö’¢’µ’•’Ø’ø ’∏÷Ä’® ’∏÷Ç’∂’´ done ÷á value
        //             // console.log('properties[count++] - ', properties[count++]);//user1,2,3
        //             // console.log(users[ properties['user1'] ];
        //             //// properties-’∂ ’°’º’°’∂’±’´’∂ ’¶’°’∂’£’æ’°’Æ ’ß  - ’¥’•’∂÷Ñ ’¥’•÷Ä users ÷Ö’¢’µ’•’Ø’ø’´ key-’•÷Ä’® ’∫’°’∞’∏÷Ç’¥ ’•’∂÷Ñ ’°’º’°’∂’±’´’∂ ’¶’°’∂’£’æ’°’Æ’´ ’¥’•’ª ÷Ñ’°’∂’´ ’∏÷Ä ÷Ö’¢’µ’•’Ø’ø’´ key -’•÷Ä’® ’∞’°’¥’°÷Ä’°’Ø’°’¨’æ’°’Æ ’π’•’∂÷â
        //             return { done: isDone, value: this[properties[count++]] };
        //         }


        //         // [Symbol.iterator] ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂ ’∫’•’ø÷Ñ’° ’æ’•÷Ä’°’§’°÷Ä’±’∂’´ next ÷Ö’¢’µ’•’Ø’ø
        //         return { next };
        //     }

        // }


        // console.log(users[Symbol.iterator]());//üëç
        // console.log(users[Symbol.iterator]().next());//üëç
        // console.log(users[Symbol.iterator]().next().value);//üëç John
        // console.log(users[Symbol.iterator]().next().value);//üëç John - ’∏÷Ä’∫’•’Ω’¶’´ 2-÷Ä’§ next-’® ’æ’•÷Ä’°’§’°÷Ä’±’∂’´ ’∞’°’ª’∏÷Ä’§ ’°’∂’∏÷Ç’∂’® ’∫’•’ø÷Ñ’° users[Symbol.iterator]() ’∫’°’∞’•’¨ ÷É’∏÷É’∏’≠’°’Ø’°’∂’´ ’¥’•’ª÷â

        // console.log(users.[Symbol.iterator]());//Unexpected token [ ‚ùå 
        // console.log(users.ku().next());//{done: false, value: "John"} - ’æ’•÷Ä’°’§’°÷Ä’±’∂’∏÷Ç’¥ ’ß ’¥’•’¶ next() -’® ’¢’°’µ÷Å ’°’º’°’∂÷Å [Symbol.iterator] ’£÷Ä’•’¨’∏÷Ç for...of-’® ’π’´ ’°’∑’≠’°’ø’∏÷Ç’¥÷â


        
        // let iter = users[Symbol.iterator]();
        // console.log(iter.next().value);//John
        // console.log(iter.next().value);//Natali
        // console.log(iter.next().value);//Donald
        // console.log(iter.next().value);//undefined


        // console.log('---------------------------------------------');
        ///// working when first return
        /////  ’ç’ø’£’∏÷Ç’¥’¥ ’°÷Ä’§’µ’∏÷Ñ ’§’°’º’°’æ ’´’ø’•’°÷Å’æ’∏’≤÷â
        // for (let v of users) {
        //     console.log(`Property ${v}`);//
        // };







// //// return ’Ø’°÷Ä’•’¨’´’° ’°’∂’•’¨ ’Ω’Ø’¶’¢’´÷Å’ù
// 	let users = {
//             user1: 'John',
//             user2: 'Natali',
//             user3: 'Donald',
//             // ku: function () {//‚ùå for... of not working
//             [Symbol.iterator] : function () {//üëç for..of working
//                 let properties = Object.keys(this);
//                 let count = 0;
//                 isDone = false;

// 			return {
//                  next : function() {
//                     if (count >= properties.length) {
//                         isDone = true;
//                     }
//                     return { done: isDone, value: users[properties[count++]] };
//                 }
// 			}
// 			}
// 		}
		
///// working correct
//         for (let v of users) {
//             console.log(`Property ${v}`);//
//         };













/*++++++++++++‘¥’∏÷Ç÷Ä’Ω’∂’•’¨ ’Ø’°÷Ä’•’¨’´’° ’Ω’°÷Ä÷Ñ’•’¨ ’´’ø’•÷Ä’°÷Å’æ’∏’≤ ÷Ö’¢’µ’•’Ø’ø++++++++++++*/
        //  users[Symbol.iterator] = function(){

        //     // get the properties of the users 
        //     let properties = Object.keys(this);//this === users
        //     let count = 0;//’∞’°’∑’æ’∏÷Ç’¥’° user-’´ ’∂’•÷Ä’´ ÷Ñ’°’∂’°’Ø’®, ’•’©’• ’°’æ’•’¨ ’∞’°’∑’æ’´ isDone-’® ’Ø’§’°’º’∂’° true
        //     isDone = false;

        //     let next = () => {
        //        // ’æ’•÷Ä’ª’´’∂ property-’´’∂ ’Ø’°’º’°’æ’°÷Ä’•’¨’∏÷Ç ’∞’°’¥’°÷Ä
        //        if(count >= properties.length){
        //           isDone = true;
        //        }
        //        ////next ’¥’•’©’∏’§’® ’æ’•÷Ä’°’§’°÷Ä’±’∂’∏÷Ç’¥’° ÷Ö’¢’µ’•’Ø’ø ’∏÷Ä’® ’∏÷Ç’∂’´ done ÷á value
        //        return {done:isDone, value: this[properties[count++]]};
        //     }


        //     // [Symbol.iterator] ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂ ’∫’•’ø÷Ñ’° ’æ’•÷Ä’°’§’°÷Ä’±’∂’´ next ÷Ö’¢’µ’•’Ø’ø
        //     return {next};
        //     };


        // for (let property of users) {
        //     console.log(`Properties -> ${property}`);
        // }


        //  console.log(users[Symbol.iterator]().next());//{done: false, value: "John"}






















        /***************************************************************/


        /*
        new Map([['user1','John']]).entries().next()
        {value: Array(2), done: false}
        done: false
        value: (2) ["user1", "John"]
        */

        // let count = 0;//’∞’°’∑’æ’∏÷Ç’¥’° ’∞’°’ø’Ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’®, ’∏÷Ä ’∑’°’ø ’•’¨’°’æ isDone ’©’≤ ’§’°’º’∂’° true         
        // let users = {
        //     user1: 'John',
        //     user2: 'Natali',
        //     user3: 'Donald',
        //     [Symbol.iterator]: function () {
        //         let properties = Object.keys(this);//["user1", "user2", "user3"]
        //         let isDone = false;


        //         //     let next = () => {
        //         //         // ’æ’•÷Ä’ª’´’∂ property-’´’∂ ’Ø’°’º’°’æ’°÷Ä’•’¨’∏÷Ç ’∞’°’¥’°÷Ä
        //         //         if (count = properties.length) {
        //         //             isDone = true;
        //         //         }
        //         //         ////next ’¥’•’©’∏’§’® ’æ’•÷Ä’°’§’°÷Ä’±’∂’∏÷Ç’¥’° ÷Ö’¢’µ’•’Ø’ø ’∏÷Ä’® ’∏÷Ç’∂’´ done ÷á value
        //         //         return {value: this[properties[count++]],  done: isDone};//this === users ->    this[properties[count++]] === users['user1']
        //         //     }

        //         //     return {next};//Symbol.iterator -’® ’∫’•’ø÷Ñ’° ’æ’•÷Ä’°’§’°÷Ä’±’∂’´ ÷Ö’¢’µ’•’Ø’ø

        //         // }


        //         /////OR ????
        //         return {
        //             next() {
        //                 return {
        //                     value: [properties[count++], users[properties[count++]]],//value: (2) ["user1", "Natali"]
        //                     done: (count > properties.length) ? isDone = true : isDone = false,
        //                 }
        //             }
        //         }


        //     }

        // }




        // for(let property of users){
        //    console.log(`Properties -> ${property}`);
        //  }//not working for of





        // console.log(users[Symbol.iterator]().next());
        //  console.log(users[Symbol.iterator]().next());
        //  console.log(users[Symbol.iterator]().next());
        //  console.log(users[Symbol.iterator]().next());  












        /*********************************************/
        //Another Variant
        // let count = 0;
        // let users = {
        //     user1: 'John',
        //     user2: 'Natali',
        //     user3: 'Donald',
        //     user4: 'Robert',
        //     user5: 'Nicole',
        //     [Symbol.iterator]: function () {
        //         let keysArr = Object.keys(this);
        //         let isDone = false;
        //         return {
        //             next: function () {
        //                 return {
        //                     value: users[keysArr[count++]],
        //                     done: isD÷Öne = (count > keysArr.length) ? true : false// <=‚ùå -- < ‚úî
        //                 }
        //             }
        //         }

        //     }
        // }

        // // console.log(users[Symbol.iterator]().next());
        // // console.log(users[Symbol.iterator]().next());
        // // console.log(users[Symbol.iterator]().next());
        // // console.log(users[Symbol.iterator]().next());
        // // console.log(users[Symbol.iterator]().next());//Nicole - show
        // for(let p of users) {
        //     console.log(p);
            
        // }

        /*
        My mistakes
        ‚óº done: isD÷Öne = (count >= keysArr.length) ? true : false// <=‚ùå -- < ‚úî
            ’¥’•’Æ ’Ø’°’¥ ’∞’°’æ’°’Ω’°÷Ä’´ ’§’•’∫÷Ñ’∏÷Ç’¥ for...of-’® ’æ’•÷Ä’ª’´’∂ ’∞’°’ø’Ø’∏÷Ç’©’µ’∏÷Ç’∂’® ’π’´ ÷Å’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥


        
        */


































/*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/
        
	let users = {
		user1 : 'Natali',
		user2 : 'Robert',
		user3 : 'Kate',
		[Symbol.iterator] : function() {
			let keysOfusersArr = Object.keys(this);//["user1", "user2", "user3"]
			let isDone;
			let count = 0;
			return {
				next : () =>{
					// console.log('this', this);//next
					return {
						value : users[ keysOfusersArr[count] ],//users['user1'] - count++ ‚ùå

						done  : isDone = (keysOfusersArr[count++] == undefined) ? true : false,
						// done  : isDone = (keysOfusersArr[count++] == undefined) ? true : false,
					}
				}
			}


			

		}
	}




		// let iter = users[Symbol.iterator]();
        // // console.log('iter', iter);
        // console.log(iter.next());//John
        // console.log(iter.next());//Natali
        // console.log(iter.next());//Donald
        // console.log(iter.next());//undefined


        // console.log('---------------------------------------------');
		// /////  ’ç’ø’£’∏÷Ç’¥’¥ ’°÷Ä’§’µ’∏÷Ñ ’§’°’º’°’æ ’´’ø’•’°÷Å’æ’∏’≤÷â
		///’•’©’• isDone ’¥’´’∑’ø false ’•’≤’°’æ ’°’∂’æ’•÷Ä’ª ÷Å’´’Ø’¨ ’Ø÷Ü’º’°÷â
        for (let v of users) {
            console.log(`Property ${v}`);//
        };



        /*+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

    </script>

</body>

</html>