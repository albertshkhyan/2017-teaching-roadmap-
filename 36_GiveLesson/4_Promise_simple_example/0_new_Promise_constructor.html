<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ES6 - Promise</title>
</head>
<body>
	





	<script>

		/*
		‚ö´ Promise - ’∂’•÷Ä’® ’∂’°’≠’°’ø’•’Ω’æ’°’Æ ’•’∂ ’°’Ω’´’∂’≠÷Ä’∏’∂ ’Ø’∏’§’® ’°’æ’•’¨’´ ’∞’•’∑’ø ’Ø’°’¶’¥’°’Ø’•÷Ä’∫’•’¨’∏÷Ç ’∞’°’¥’°÷Ä÷â 
			callback hell ’•÷Ä’•÷á’∏÷Ç’µ’©’´÷Å ’°’¶’°’ø’æ’•’¨’∏÷Ç ’∞’°’¥’°÷Ä÷â Promise -’∂’•÷Ä’´ ’∑’∂’∏÷Ä’∞’´’æ ’¥’•’∂÷Ñ ’°’Ω’´’∂’≠÷Ä’∏’∂ ’Ø’∏’§’® ’Ω’´’∂’≠÷Ä’∏’∂ ’Ø’∏’§’´ ’∂’¥’°’∂ ’•’∂÷Ñ ’£÷Ä’∏÷Ç’¥÷â ‘±’µ’Ω’´’∂÷Ñ’∂ ’´’°÷Ä’°÷Ä ’ø’°’Ø ’•’∂÷Ñ ’£÷Ä’∏÷Ç’¥ ’¥’•’∂÷Ñ ’¥’•÷Ä ’°’Ω’´’∂’≠÷Ä’∏’∂ ’Ø’∏’§’®, ’∏’π ’©’• ’´÷Ä’°÷Ä ’¥’•’ª÷â


			‚ö† ‘≤’∏’¨’∏÷Ä ’∞’°÷Ä÷Å’∏÷Ç’¥’•’∂’•÷Ä’® ’Ω’•’º’æ’•÷Ä’´’∂ ’Ø’°’ø’°÷Ä’æ’∏÷Ç’¥ promise ’∂’•÷Ä’´ ’¥’´’ª’∏÷Å’∏’æ, ÷Ñ’°’∂’´ ’∏÷Ä ’¥’•÷Ä ’∞’°÷Ä÷Å’∏÷Ç’¥’° ’Ø’°÷Ä’° ’∞’°’ª’∏’≤’©’∏÷Ç’µ’°’¥’¢ ’Ø’°’ø’°÷Ä’æ’´ ’Ø’°’¥ ’°’∂’∞’°’ª’∏’≤÷â
		
		*/

// let foo1 = (f1) => f1();
// let foo2 = (f2) => f2();
// let foo3 = (f3) => f3();
// let foo4 = (f4) => f4();
// function hell() {
// 	foo1(function(){
// 		console.log('1');
// 		foo2(function() {
// 			console.log('2');
// 			foo3(function() {
// 				console.log('3');
// 				foo4(function(){
// 					console.log('4');
// 				})
// 			})
// 		})
// 	})
// }

// hell();


/*++++++++++++++++++++++++++++++++++++++++++++*/


        // let getPhoneOrNot = new Promise(function(){
        // });

        // console.log(getPhoneOrNot);//Promise¬†{<pending>}  - promise-’® ’∏÷Ç’∂’´ 3 ’æ’´’≥’°’Ø
        ////1. pending - ’Ω’∫’°’Ω’∏’≤’°’Ø’°’∂ ’æ’´’≥’°’Ø
        ////2. resolved(onfullfiled) - ’Ø’°’ø’°÷Ä’æ’°’Æ ’æ’´’°’≥’°’Ø
        ////3. rejected - ’π’Ø’°’ø’°÷Ä’æ’°’Æ ’æ’´’≥’°’Ø


        ////resolved ’æ’´’≥’°’Ø
        // let getPhoneOrNot = new Promise(function (resolve, reject) {
        //     resolve();
        // });
        // console.log(getPhoneOrNot);//Promise¬†{<resolved>: undefined}


        //// rejected - ’π’Ø’°’ø’°÷Ä’æ’°’Æ ’æ’´’≥’°’Ø
        // let getPhoneOrNot = new Promise(function (resolve, reject) {
        //     reject();
        // });
        // console.log(getPhoneOrNot);//Promise¬†{<rejected>: undefined}
            /*
                * Uncaught (in promise) - ’°’µ’Ω error-’® ’∫’•’ø÷Ñ’° catch ’°÷Ä’æ’´ ( ’¥’∑’°’Ø’æ’´ ), ’∏÷Ä promise ÷Ö’¢’µ’•’Ø’ø’´÷Å ’∞’•’ø’∏ ’Ø’∏’§’® ’°’∑’≠’°’ø’´÷â
            
            */


























// –ü—Ä–æ–º–∏—Å—ã –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
// –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑–≥–æ–≤–æ—Ä –º–µ–∂–¥—É –¥–≤—É–º—è –ª—é–¥—å–º–∏:

// –ê–ª–µ–∫—Å: –≠–π, –º–∏—Å—Ç–µ—Ä –ü—Ä–æ–º–∏—Å! –ú–æ–∂–µ—à—å —Å–±–µ–≥–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω –∏ –ø—Ä–∏–Ω–µ—Å—Ç–∏ –º–Ω–µ itemA –¥–ª—è –±–ª—é–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–º —Å–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º?
// –ü—Ä–æ–º–∏—Å: –û—Ç–ª–∏—á–Ω–∞—è –º—ã—Å–ª—å!
// –ê–ª–µ–∫—Å: –ü–æ–∫–∞ —Ç—ã –±–µ–≥–∞–µ—à—å, —è –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é itemB (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è). –¢–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–∫–∞–∂–∏, –Ω–∞—à–µ–ª –ª–∏ —Ç—ã itemA (–≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –ø—Ä–æ–º–∏—Å–æ–º –∑–Ω–∞—á–µ–Ω–∏–µ).
// –ü—Ä–æ–º–∏—Å: –ê –µ—Å–ª–∏ —Ç–µ–±—è –Ω–µ –±—É–¥–µ—Ç –¥–æ–º–∞, –∫–æ–≥–¥–∞ —è –≤–µ—Ä–Ω—É—Å—å?
// –ê–ª–µ–∫—Å: –¢–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Å–º—Å–∫—É, —á—Ç–æ —Ç—ã –≤–µ—Ä–Ω—É–ª—Å—è –∏ –ø—Ä–∏–Ω–µ—Åitem –¥–ª—è –º–µ–Ω—è (—É—Å–ø–µ—à–Ω—ã–π –∫–æ–ª–±—ç–∫). –ï—Å–ª–∏ —Ç—ã –Ω–µ –Ω–∞–π–¥–µ—à—å, –ø–æ–∑–≤–æ–Ω–∏ –º–Ω–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–Ω–µ—É—Å–ø–µ—à–Ω—ã–π –∫–æ–ª–±—ç–∫).
// –ü—Ä–æ–º–∏—Å: –û—Ç–ª–∏—á–Ω–æ! –£–≤–∏–¥–∏–º—Å—è –ø–æ–∑–∂–µ!
// –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –æ–±—ä–µ–∫—Ç promise‚Äî—ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—åresolve, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ reject, –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—É–ª–∞ –æ—à–∏–±–∫—É.

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
// –ü—Ä–æ–º–∏—Å‚Ää‚Äî‚Ää—ç—Ç–æ –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–ª–∏ —Å–±–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –ü–æ —Å—É—Ç–∏, –ø—Ä–æ–º–∏—Å‚Ää‚Äî‚Ää—ç—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –∫–æ–ª–±—ç–∫, –≤–º–µ—Å—Ç–æ –µ–≥–æ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é.





/*******************************************************************/


////‚ö† ’à÷Ä’∫’•’Ω’¶’´ promise constructor-’® ’°’∑’≠’°’ø’´ ’°’µ’∂ ’∫’•’ø÷Ñ’° ’®’∂’§’∏÷Ç’∂’´ ’∏÷Ä’∫’•’Ω ’°÷Ä’£’∏÷Ç’¥’•’∂’ø ÷Ü’∏÷Ç’∂’Ø÷Å’´’°÷â
// let p = new Promise();// not working ‚ùå
// let p = new Promise(function(){});//working üëç
// console.log('p', p);

		// console.log(Promise);//∆í Promise() { [native code] }

		// var promise = new Promise(function(resolve,reject){});// >Promise {<pending>}
		// console.log(promise);




		/*
		__proto__: Promise
			catch: ∆í catch()
			constructor: ∆í Promise()
			finally: ∆í finally()
			then: ∆í then()
				Symbol(Symbol.toStringTag): "Promise"
				__proto__ : Object
					[[PromiseStatus]]: "pending"
					[[PromiseValue]]: undefined

		’ç’Ø’¶’¢’∏÷Ç’¥ promise-’® ’£’ø’∂’æ’∏÷Ç’¥’° pending ’æ’´’≥’°’Ø’∏÷Ç’¥, ’∞’•’∂÷Å then ’¥’•’©’∏’§’® ÷Ö’£’ø’°’£’∏÷Ä’Æ’•’∂÷Ñ ’°÷Ä’§’•’∂’° ’Ø’°’∂÷Å’´’∂’´ fullfiled ’Ø’°’¥ rejected ’æ’´’≥’°’Ø’´÷â
		*/
		/*
		Syntax of Promise object
			’à÷Ä’∫’•’≤ ’°÷Ä’£’∏÷Ç’¥’•’∂’ø ’®’∂’§’∏÷Ç’¥’∏÷Ç’¥’° callback function(’°’Ω’´’∂’≠÷Ä’∏’∂ ÷Ü’∏÷Ç’∂’Ø÷Å’´’°) , ’´’Ω’Ø ’•’ø ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂ ’∏÷Ä’∫’•’Ω ’∫’°’º’°’¥’•’ø÷Ä ’®’∂’§’∏÷Ç’∂’∏÷Ç’¥’° 2 callback function:
				1.resolve - ’∞’°’ª’∏’≤’æ’°’Æ ’Ø’°’ø’∏÷Ä’∏÷Ç’¥
				2.reject - ’π’∞’°’ª’∏’≤’æ’°’Æ ’Ø’°’ø’∏÷Ä’∏÷Ç’¥

		/!\ resolve-’∂ ’∏÷Ç reject-’∂’•÷Ä’® ’§÷Ä’°’∂÷Ñ callback-’∂’•÷Ä ’•’∂÷â
				*/

/*
promise ’∏÷Ç’∂’´ 3 ’æ’´’≥’°’Ø` 
1‚Ä§fulfiled [÷Ü’∏÷Ç’¨÷Ü’´’¨’§] - ’Ø’°’ø’°÷Ä’•÷Å === resolved
2.rejected [’º’•’ª’•÷Ñ’©’´’§] - ’π’Ø’°’ø’°÷Ä’æ’•÷Å
3.{<pending>}

example
	 [[PromiseStatus]] : 'resolved'

*/

/*------------- Promise.then --------------
/!\ ‘ª÷Ä’°’§’°÷Ä’±’∏÷Ç’©’µ’∏÷Ç’∂’® ’§’° ’°’Ω’´’∂’≠÷Ä’∏’∂ ’£’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂ ’ß
/!\ .then-’® ’§’° Promise ÷Ö’¢’µ’•’Ø’ø’´ ’¥’•’©’∏’§ ’ß, ’∫’•’ø÷Ñ ’ß ’∫’°÷Ä’ø’°’§’´÷Ä ’∂’∑’•’¨ ÷Ö’¢’µ’•’Ø’ø’® then-’´÷â
Promise.then - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π
*–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π - ’§’° ’´÷Ä’°’§’°÷Ä’±’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’∂ ’•’∂ ÷Ö÷Ä’´’∂’°’Ø’ù
onclick
onmousemove
onkeydown 
	etc...
	then ’§’° ’Ø’°÷Ä’•’¨’´ ’ß ’°’Ω’•’¨ ’´÷Ä’°’§’°÷Ä’±’∏÷Ç’©’µ’∏÷Ç’∂’°, ’∏÷Ä’® ’∞’°’µ’ø’∂’∏÷Ç’¥’° promise-’´ ’¥’∏’ø’ù
		onFulfilled
		onRejected

/!\ then ÷á catch ’¥’•’©’∏’§’∂’•÷Ä’® ’æ’•÷Ä’°’§’°÷Ä’±’∂’∏÷Ç’¥ ’•’∂ ’∂’∏÷Ä promise

*/

















/*-------- Example --------*/
// var isMomHappy = false;//mom is not happy
// var isMomHappy = true;// return phone(object view)

// // Promise
// var willIGetNewPhone = new Promise(
//     function (resolve, reject) {//resolve = ∆í (), reject = ∆í () - 
//         if (isMomHappy) {//‘µ’©’• true ’ß ’Ø’Ø’°’∂’π’æ’´ ’¥’•÷Ä resolve ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂
//             var phone = {
//                 brand: 'Samsung',
//                 color: 'black'
//             };
//             resolve(phone); // –í—Å—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
//         } else {
//             var reason = new Error('mom is not happy');
//             // var reason = 'mom is not happy';
//             reject(reason); // reject
//         }

//     }
// );//’ç÷Ä’° ’¥’´’ª’∏÷Å’∏’æ ’¥’•’∂÷Ñ ’´’¥’°÷Å’°’∂÷Ñ promise-’´ ’æ’´’≥’°’Ø’®(status)-’®

//’æ’•÷Ä’∏’∞’´’∑’µ’°’¨ ’Ø’∏’§’® ’∞’°’ª’∏’≤’∏÷Ç’©’µ’°’¥’¢ ’Ø’°’ø’°÷Ä’æ’•÷Å ’¢’°’µ÷Å ’Ø÷Å’∏÷Ç÷Å’°’§÷Ä’æ’´ then ’¥’•’©’∏’§’´ ’¥’´’ª’∏÷Å’∏’æ÷â
//’Ä’°÷Ä÷Å’∂’∏÷Ç’¥’° ’¥’°’¥’°’´’∂ ’°’º’•’¨’•’Ω 
//then -’´ ’¥’´’ª’∏÷Å’∏’æ ’Ω’ø’°’∂’∏÷Ç’¥ ’•’∂÷Ñ promise-’´ ’°÷Ä’™’•÷Ñ’®÷â
// var askMom = function () {//
//     willIGetNewPhone//’Ω’° ’¥’•÷Ä promise ÷Ö’¢’µ’•’Ø’ø’°’∂’°
//         .then(function (fulfilled) {//’Ω’Ø’¶’¢’∏÷Ç’¥ fulfilled is not defined
//             // yay, you got a new phone
//             console.log(fulfilled);//fulfilled = {brand: "Samsung", color: "black"}
//          // output: { brand: 'Samsung', color: 'black' }
//         })//’°’º’°’ª’´’∂ then-’® ’Ω’ø’°’∂’∏÷Ç’¥’° resolve -’´ ’°÷Ä’™’•÷Ñ’®÷â
//         .catch(function (error) {
//             // oops, mom don't buy it
//             console.log(error.message);
//          // output: 'mom is not happy'
//         });
// };

// askMom();
// // console.log(Promise.resolve());
// // console.log(willIGetNewPhone);

// // console.log(new Error('mom is not happy'));//working - .ctach ’¥’•’©’∏’§’® new Error ’¢’º’°’∂’•’¨’∏÷Ç ’∞’°’¥’°÷Ä





















	/////////////////////////// promise  //////////////////////////////

// 	let haveMoney = Math.round(Math.random()*1);

// 	let getPhone = new Promise(function(resolve, reject){
// 		if(haveMoney) {
// 			let phone = {
// 				brand : 'samsung S7',
// 				color : 'Black'
// 			}
// 			resolve(phone);//’ø’°’¨’´’Ω ’•’∂÷Ñ ’°÷Ä’£’∏÷Ç’¥’•’∂’ø, ’∏÷Ä’® ’∞’•’ø’°’£’°’µ’∏÷Ç’¥ ÷É’∏’≠’°’∂÷Å’∏÷Ç’¥ ’•’∂÷Ñ then-’´’∂÷â
// 		}
// 		else{
// 			let error = new Error('Pox chka');
// 			reject(error);
// 		}
// 	})	

// // console.log("getPhone", getPhone);


// getPhone
// 	.then(function(resolved){//resolve-’® ’Ø’°’∂’π’∏÷Ç’¥’° ’°’µ’Ω ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂
// 		console.log(resolved);
// 	},function(rejected){
// 		console.log(rejected.message);
// 	})
// 	// .catch(function(error){
// 	// 	console.log(error.message);
// 	// })


			</script>
		</body>
		</html>